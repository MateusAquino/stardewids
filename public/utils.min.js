var finishLoading;const loadingPromise=new Promise(e=>finishLoading=e);function openTab(e,t){var a=document.getElementsByClassName("tabcontent"),c=document.getElementsByClassName("tablinks");for(const n of a)n.classList.remove("active");for(const o of c)o.classList.remove("active");document.getElementById(t).classList.add("active"),e.currentTarget.classList.add("active")}function translateTo(a){(async()=>{await loadingPromise,document.querySelectorAll("[data-en-US]").forEach(e=>{e.innerText=e.getAttribute("data-"+a)}),Object.entries(Strings).forEach(([e,t])=>{document.querySelectorAll(`[data-translate="${e}"]`).forEach(e=>e.innerHTML=t[a])}),Object.entries(Strings).forEach(([e,t])=>{e=document.querySelector(`[data-translate-text="${e}"]`);e&&(e.dataset.text=t[a])}),document.querySelectorAll(".action.copy").forEach(e=>{e.dataset.text=Strings.copy[a]}),document.querySelectorAll(".action.copyN").forEach(e=>{e.dataset.text=Strings.copyN[a]}),document.querySelectorAll(".action.batch").forEach(e=>{e.dataset.text=Strings.batch[a]}),document.querySelector("#playerInfo").dataset.text=Strings.playerInfo[a],document.querySelector("#debugFileInfo").dataset.text=Strings.debugFileInfo[a]})(),Object.entries(Strings).forEach(([e,t])=>{document.querySelectorAll(`[data-translate="${e}"]`).forEach(e=>e.innerHTML=t[a])}),document.querySelectorAll("[data-en-US]").forEach(e=>{e.innerText=e.getAttribute("data-"+a)})}function openCountrySelect(){document.getElementById("country-select").classList.toggle("active")}function selectCountry(e,t){e=e.currentTarget;history.pushState(null,null,"#"+t),document.getElementById("country-select").classList.remove("active"),document.getElementById("country-selected").innerHTML=e.innerHTML,document.cookie="lang="+t,translateTo(t)}function copyWithBypass(e){console.log(e),e=e instanceof Array?e.sort((e,t)=>e.startsWith("#")-t.startsWith("#")).join(""):e;const t=debug?e:splitId(e,"",mode);navigator.clipboard.writeText(t).then(()=>{},e=>{throw prompt("Copy failed! Please copy manually:",t),e})}function isAnimating(e){return e.classList.contains("animating")}function animate(e,t){e.className+=" animating hide",setTimeout(()=>e.classList.remove("hide"),100),setTimeout(()=>e.classList.add(t),100),setTimeout(()=>e.classList.add("hide"),1e3),setTimeout(()=>e.classList.remove("hide","animating",t),1100)}function clickCopy(t,e){t=t.currentTarget;if(!t.classList.contains("animating"))try{copyWithBypass(debug?"/item "+e.replace(/[\[\]]/g,""):e),batch=[],updateAmount(),document.querySelectorAll(".batched").forEach(e=>e.classList.remove("batched")),animate(t,"success")}catch(e){animate(t,"error")}}function getIdForPasteMode(e,t){var a=document.querySelector('input[name="quality"]:checked').value;return debug?`/item ${e.replace(/[\[\]]/g,"")} ${t} `+a:"chicken"===mode?`#$action AddItem ${e.replace(/[\[\]]/g,"")} ${t} `+a:e}function removeFromBatch(t){return batch=batch.filter(e=>e!==t&&!e.includes("AddItem "+t.replace(/[\[\]]/g,"")))}function clickCopyN(e,n){const o=e.currentTarget;o.classList.contains("animating")||openQuantityModal(n,(e,t)=>{if(e=Number(e),isNaN(e)||e<=0)throw new Error("Invalid quantity");var a=e=999<e?999:e,c=getIdForPasteMode(n,e);"chicken"===mode&&(e=1),t?(copyWithBypass(batch=removeFromBatch(n).concat(Array(e).fill(c))),document.getElementById(n).classList.add("batched"),updateAmount(n,a)):(copyWithBypass(c.repeat(e)),batch=[],updateAmount(),document.querySelectorAll(".batched").forEach(e=>e.classList.remove("batched"))),animate(o,"success")},()=>{animate(o,"error")})}function updateAmount(e,t){if(!e)return document.querySelectorAll("[data-amount]").forEach(e=>e.removeAttribute("data-amount"));e=document.getElementById(e).querySelector(".group");t?e.dataset.amount=t:e.removeAttribute("data-amount")}const modal=document.querySelector(".modal"),closeModal=document.querySelector(".close");function openQuantityModal(e,t,a){modal.style.display="block";var e=document.getElementById(e),c=e.querySelector(".group").dataset.amount||1;const n=document.getElementById("copyNInput");var o=document.getElementById("copyNBatch"),l=document.getElementById("copyNCancel"),s=document.getElementById("copyNConfirm");n.value=e.classList.contains("batched")?c:"",n.focus(),n.onkeydown=e=>{if("Enter"===e.key){modal.style.display="none";try{t(n.value)}catch(e){a()}}},s.onclick=()=>{modal.style.display="none";try{t(n.value)}catch(e){a()}},o.onclick=()=>{modal.style.display="none";try{t(n.value,!0)}catch(e){a()}},l.onclick=()=>{modal.style.display="none",a()}}closeModal.onclick=()=>modal.style.display="none",window.onclick=e=>{e.target==modal&&(modal.style.display="none")};let batch=[];function clickBatch(t,e){t=t.currentTarget;if(!t.classList.contains("animating"))try{var a=document.getElementById(e);a.classList.contains("batched")?(a.classList.remove("batched"),removeFromBatch(e),copyWithBypass(batch),animate(t,"error"),updateAmount(e)):(batch.push(e),updateAmount(e),copyWithBypass(batch),a.classList.add("batched"),animate(t,"success"))}catch(e){animate(t,"error")}}const filters={objects:"$All"};function toggleFilter(e,t,a){var e=e.currentTarget,c=document.getElementById(`filter-${t}-`+filters[t].replace("-",""));if(e.classList.contains("active")&&"$All"!==a)return filters[t]="-"+a,e.classList.remove("active"),e.classList.add("rejected"),updateFilters(t);c.classList.remove("active"),c.classList.remove("rejected"),filters[t]=a,e.classList.remove("rejected"),e.classList.add("active"),updateFilters(t)}function updateFilters(t){document.querySelectorAll(`main div#${t} table tbody tr:not(:nth-of-type(1))`).forEach(e=>"$All"===filters[t]||(filters[t]===e.dataset.type||filters[t]!=="-"+e.dataset.type&&filters[t].startsWith("-"))?e.classList.remove("hidden"):e.classList.add("hidden"))}const codepoints={32:15,33:9,34:15,35:27,36:30,37:33,38:27,39:9,40:15,41:15,42:24,43:27,44:12,45:18,46:9,47:21,48:21,49:24,50:21,51:24,52:18,53:21,54:24,55:21,56:21,57:21,58:9,59:12,60:27,61:33,62:24,63:24,64:24,65:21,66:27,67:27,68:27,69:27,70:24,71:30,72:27,73:9,74:18,75:24,76:24,77:33,78:27,79:30,80:27,81:30,82:27,83:27,84:27,85:27,86:27,87:39,88:27,89:27,90:27,91:12,92:21,93:12,94:21,95:27,96:12,97:24,98:21,99:21,100:24,101:21,102:18,103:21,104:21,105:9,106:15,107:18,108:12,109:33,110:21,111:21,112:21,113:24,114:21,115:21,116:18,117:24,118:21,119:27,120:21,121:21,122:21,123:21,124:9,125:21,126:24,127:46,128:18,129:18,130:18,131:18,132:18,133:21,134:18,135:18,136:18,137:18,138:18,139:18,140:18,141:18,142:18,143:18,144:18,145:18,146:18,147:18,148:18,149:18,150:18,151:18,152:18,153:18,154:18,155:18,156:18,157:18,158:18,159:18,160:15,161:12,162:21,163:27,164:27,165:27,166:27,167:27,168:24,169:27,170:21,171:24,172:27,173:21,174:30,175:30,176:18,177:21,178:18,179:18,180:12,181:27,182:27,183:12,184:15,185:15,186:18,187:24,188:33,189:36,190:33,191:24,192:21,193:21,194:21,195:21,196:21,197:21,198:30,199:27,200:24,201:24,202:24,203:24,204:12,205:15,206:15,207:15,208:27,209:27,210:30,211:30,212:30,213:30,214:30,215:24,216:33,217:27,218:27,219:27,220:27,221:27,222:21,223:24,224:24,225:24,226:24,227:24,228:24,229:24,230:33,231:21,232:21,233:21,234:21,235:21,236:9,237:12,238:12,239:12,240:21,241:21,242:21,243:21,244:21,245:21,246:21,247:21,248:24,249:24,250:24,251:24,252:24,253:21,254:21,255:21,376:27,8212:34,8213:33,8214:17,8215:30,8216:11,8217:11,8218:11,8219:11,8220:18,8221:18,8222:18,8223:18,8224:29,8225:29,8226:17,8227:17,8228:11,8229:24,8230:29,8231:11,8232:54,8233:21,8234:21,8235:21,8236:21,8237:21,8238:21,8239:28,8240:52,8241:69,8242:13,8243:19,8244:24,8245:13,8246:19,8247:24,8248:21,8249:17,8250:17,8364:27,9825:34},spacing=2,limit=233,lbs=calculateWidth("${^^");function calculateWidth(t){let a=0;for(let e=0;e<t.length;e++){var c=t.codePointAt(e);a+=codepoints[c]-spacing}return a}function splitId(t,a="",e="chicken"){var c=t.split("\n");if(1<c.length)return c.map(e=>splitId(e)).join("\n");if("player"===e)return t.replaceAll("[","\n[");if(calculateWidth(t)<=limit)return a+t;for(let e=0;e<t.length;e++)if(calculateWidth(t.substr(0,e))+lbs>limit)return splitId("}$"+t.substr(e-1),a+t.substr(0,e-1)+"${^^\n")}if(window.location.hash){const Qa=window.location.hash.substring(1),Ra=document.getElementById("select-"+Qa);Ra&&Ra.click()}else if(document.cookie.includes("lang")){const Sa=document.cookie.split("lang=")[1].split(";")[0],Ta=document.getElementById("select-"+Sa);Ta&&Ta.click()}Object.entries(Strings).forEach(([e,t])=>{e=document.querySelector(`[data-translate-text="${e}"]`);e&&(e.dataset.text=t["en-US"])}),(async()=>{var e,t;await loadingPromise,document.getElementById("free-in").addEventListener("input",e=>{e=e.target.value;document.getElementById("free-out").innerText=splitId(e)}),debug&&(e=document.querySelectorAll(".batch"),t=document.querySelectorAll(":not(#chickenOnly) > .modal-radio"),e.forEach(e=>e.style.display="none"),t.forEach(e=>e.style.display="none"),batch=[],updateAmount(),document.querySelectorAll(".batched").forEach(e=>e.classList.remove("batched")))})(),(async()=>{await loadingPromise,Array.from(document.getElementsByClassName("copyImg")).forEach(a=>{a.addEventListener("click",e=>{var e=e.target,t=document.createElement("canvas");t.width=e.naturalWidth,t.height=e.naturalHeight,t.getContext("2d").drawImage(e,0,0),t.toBlob(e=>navigator.clipboard.write([new ClipboardItem({"image/png":e})])),a.classList.add("copied"),setTimeout(()=>a.classList.remove("copied"),200)})})})();let debug=!1,mode="chicken";function setDebugMode(e){var t;debug=e?(document.documentElement.style.setProperty("--primary-color","#FF3333"),document.getElementById("imgDebug").classList.remove("hidden"),document.getElementById("imgMain").classList.add("hidden"),document.getElementById("copyNBatch").style.display="none",document.getElementById("copyNChickenMode").click(),document.querySelector("[data-translate=free]").style.display="none",document.querySelector("[data-translate=pastemode]").style.display="none",document.querySelector("[data-translate=description2debug]").style.display="block",document.querySelector("[data-translate=description2]").style.display="none",e=document.querySelectorAll(".batch"),t=document.querySelectorAll(":not(#chickenOnly) > .modal-radio"),e.forEach(e=>e.style.display="none"),t.forEach(e=>e.style.display="none"),batch=[],updateAmount(),document.querySelectorAll(".batched").forEach(e=>e.classList.remove("batched")),document.cookie="debug=true",!0):(document.documentElement.style.setProperty("--primary-color","#04aa6d"),document.getElementById("imgDebug").classList.add("hidden"),document.getElementById("imgMain").classList.remove("hidden"),document.getElementById("copyNBatch").style.display="block",document.querySelector("[data-translate=free]").style.display="block",document.querySelector("[data-translate=pastemode]").style.display="block",document.querySelector("[data-translate=description2debug]").style.display="none",document.querySelector("[data-translate=description2]").style.display="block",e=document.querySelectorAll(".batch"),t=document.querySelectorAll(":not(#chickenOnly) > .modal-radio"),e.forEach(e=>e.style.display="block"),t.forEach(e=>e.style.display="flex"),!(document.cookie="debug=false"))}document.getElementById("copyNChickenMode").addEventListener("click",()=>{mode="chicken",document.getElementById("chickenOnly").style.display="block"}),document.getElementById("copyNPlayerMode").addEventListener("click",()=>{mode="player",document.getElementById("chickenOnly").style.display="none"}),document.getElementById("debugMode").addEventListener("change",e=>{setDebugMode(e.target.checked)}),document.cookie.includes("debug=true")&&setDebugMode(document.getElementById("debugMode").checked=!0);